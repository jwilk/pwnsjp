#!/usr/bin/perl
use strict;

print <<EOF
#include <wchar.h>

#ifndef ENTITY_H
#define ENTITY_H

struct entity
{
  char *name;
  wchar_t value;
  char *str;
};

static const struct entity entity_list[] =
{
EOF
;
while(<>)
{
  chop;
  next if /^\|/;
  split /\t/;
  printf 
    "  { .name = \"%s\",%s.value = 0x%s, .str = %s },\n", 
    $_[0], 
    ' ' x (11-length($_[0])), 
    $_[1], $_[2], $_[3];
}
print <<EOF
  { .name = \"__vector__\", .value = 0x20d7, .str = \"->\" },
  { .name = NULL,         .value = 0x0000, .str = NULL }
};

#endif
EOF
;

# vim:ts=2 sw=2 et ft=perl
