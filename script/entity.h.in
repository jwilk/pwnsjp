#!/usr/bin/perl
print "#include <wchar.h>\n\n".
      "#ifndef ENTITY_H\n".
      "#define ENTITY_H\n\n".
      "struct entity\n".
      "{\n".
      "  unsigned char* name;\n".
      "  wchar_t value;\n".
      "  unsigned char* str;\n".
      "};\n\n".
      "static const struct entity entity_list[] =\n".
      "{\n";
while(<STDIN>)
{
  chop;
  next if /^\|/;
  split /\t/;
  printf "  { .name = \"%s\", .value = 0x%s, .str = %s },\n", @_[0], @_[1], @_[2], @_[3];
}
print "  { .name = \"__vector__\", .value = 0x20d7, .str = \"->\" },\n",
      "  { .name = NULL, .value = 0x0000, .str = NULL }\n",
      "};\n\n".
      "#endif\n\n";

# vim: ts=2 sw=2 et ft=perl
