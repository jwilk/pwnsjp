#!/usr/bin/perl
print "#include <wchar.h>\n\n".
      "#ifndef CMAP_CP1250_H\n".
      "#define CMAP_CP1250_H\n\n". 
      "static const wchar_t cp1250[0x80] = {";

foreach $cp (0x80 .. 0xff)
  { $s{$cp}="0000"; }
while(<STDIN>)
{
  next if ($_ !~ /^\<U/);
  s/^\<U([0-9A-F]{4})\> *\/(x[0-9a-f]{2}).*/\1:0\2/;
  ($uni, $cp) = split /:/;
  $cp=eval $cp;
  $uni=lc $uni;
  $s{$cp}=$uni;
}
foreach $cp (0x80 .. 0xfe)
  { printf "0x%s, ", $s{$cp} };
printf "0x%s};\n\n", $s{0xff};

print "#endif\n"

# vim: ts=2 sw=2 et ft=perl
